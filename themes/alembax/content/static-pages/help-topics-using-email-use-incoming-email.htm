[viewBag]
title = "Using Incoming Email"
url = "/help/topics/using-email/use-incoming-email"
layout = "help"
is_hidden = 0
navigation_hidden = 0
==
                                                    <h1>Using Incoming Email</h1>
                                                    <p>The <span class="GeneralVariablesCoreName">ASM Core</span> Incoming Email module provides great flexibility for a support desk or workflow management system. Any person with access to email can, for example, log calls and action tasks by way of a specific email address. The mail server holding this address will routinely check for these messages and log or update calls and tasks accordingly. This functionality is especially useful for analysts who are out fixing problems in the field or people who are traveling or using hand-held devices and have limited Internet access.</p>
                                                    <p><span class="GeneralVariablesCoreName">ASM Core</span> has a polling service which can be configured to check a number of incoming mail accounts for any received email messages. If the polling service picks up an email, it can take the appropriate course of action, whether it is to log or close a call, approve or reject tasks, or simply update an existing call, request or task. </p>
                                                    <p>The action to be taken is dependent on:</p>
                                                    <ul>
                                                        <li value="1"> the subject line of the email. Refer to <a href="recognized%20incoming%20subject%20lines.htm">Recognized Incoming Subject Headings</a> for details.</li>
                                                        <li value="2">the settings configured for the incoming email account in <a href="../admin%20system/email%20settings.htm">Email Settings</a> in System Administration.</li>
                                                    </ul>
                                                    <p>The following actions can be taken as a result of an incoming email:</p>
                                                    <ul>
                                                        <li value="1">log calls</li>
                                                        <li value="2">update calls</li>
                                                        <li value="3">return a summary of calls</li>
                                                        <li value="4">close calls</li>
                                                        <li value="5">reopen closed calls</li>
                                                        <li value="6">approve an Approval Task or User Approval Task</li>
                                                        <li value="7">reject an Approval Task or User Approval Task</li>
                                                        <li value="8">update a task or approval</li>
                                                        <li value="9">update a request</li>
                                                        <li value="10">return a summary of requests</li>
                                                        <li value="11">return a summary of tasks and approvals</li>
                                                    </ul>
                                                    <p>Once the polling service has processed an incoming email, the email is deleted from the mailbox. This is to prevent <span class="GeneralVariablesCoreName">ASM Core</span> from logging new calls from the same email. If you want to keep a copy of these emails, it is recommended that you set up your mail server such that it sends a copy of every email received by the mailbox used for <span class="GeneralVariablesCoreName">ASM Core</span> incoming email to another email account. </p>
                                                    <p class="note"><span class="GeneralVariablesCoreName">ASM Core</span> considers SMTP error numbers 501, 503, 550 and 553 to be permanent and fatal errors. If <span class="GeneralVariablesCoreName">ASM Core</span> receives an incoming email with any of these errors, it will immediately delete this message and the message cannot be recovered. <span class="GeneralVariablesCompanyName2">Alemba®</span> recommends that if any incoming emails show these error numbers, the mail administrator should review the mail infrastructure to determine the origin of these errors</p>
                                                    <h2>Logging a Call</h2>
                                                    <p>If the  messaging service picks up an incoming email but does not recognize the email’s subject line, <span class="GeneralVariablesCoreName">ASM Core</span> will log a call based on the details of that email. </p>
                                                    <p>A call will also be logged if the email matches a recognized subject line but has an invalid call number and the <b>Log New Call on Invalid Number</b> option is selected on the incoming email server. If Log New Call on Invalid Number is not selected, the email will be discarded and the person who sent the email will not be notified.</p>
                                                    <p>If the email matches a recognized subject line but has an invalid request or task number, a call is always logged (whether <b>Log New Call on Invalid Number</b> is selected or not in System Administration).</p>
                                                    <p>When a call is logged by incoming email, <span class="GeneralVariablesCoreName">ASM Core</span> looks in the CMDB for a User or analyst with an email address matching the address used to send the email. Based on these findings and the <a href="../admin%20system/email%20settings.htm">settings for the incoming email account</a> used, <span class="GeneralVariablesCoreName">ASM Core</span> will allocate a User and logging analyst for the new call. </p>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown">
<span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="/storage/app/media/Help/images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open"><b>Case 1: The email address is not defined for an existing User or Analyst in <span class="GeneralVariablesCoreName">ASM Core</span>.</b></a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <blockquote>
                                                                <p>If an email is sent from an address which does not correspond to any existing <span class="GeneralVariablesCoreName">ASM Core</span> User or analyst, and <b>Create New Calls Anonymously</b> is selected for the incoming email account, a new User record is created (that is, a new person record flagged as a User) and the call is logged with this User specified in the User field. The logging analyst is set to the analyst specified in the Default Logging Analyst field on the incoming email account.</p>
                                                                <p>If the <b>Create New Calls Anonymously</b> option is not selected for the incoming email account, a call is not created.</p>
                                                            </blockquote>
                                                        </div>
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown">
<span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="/storage/app/media/Help/images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open">Case 2: The email address is defined for an existing Analyst (who is not also flagged as a User).</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <blockquote>
                                                                <p>If an email is sent from an address which corresponds to an existing analyst in the <span class="GeneralVariablesDatabaseName">ASM database</span> and this analyst is flagged as an analyst only (not as a User), the call is logged with this person specified in the User field. The logging analyst is set as follows:</p>
                                                                <p>If the <b>Use Linked Analyst</b> option is not selected for the incoming email account, the logging analyst is set to the analyst specified in the Default Logging Analyst field for the incoming email server.</p>
                                                                <p>If the <b>Use Linked Analyst</b> option is selected for the incoming email account, the logging analyst is set to the person who sent the email.</p>
                                                                <p class="note">If an analyst logs a call by incoming email and he is not already a User, the User flag will be selected on the analyst’s person record </p>
                                                            </blockquote>
                                                        </div>
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown">
<span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="/storage/app/media/Help/images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open">Case 3: The email address is defined for an existing User (who is not also flagged as an Analyst).</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <blockquote>
                                                                <p>If an email is sent from an address which corresponds to an existing User in the <span class="GeneralVariablesDatabaseName">ASM database</span>, the call is logged with this User specified in the User field. The logging analyst is set to the analyst specified in the <b>Default Logging Analyst</b> field for the incoming email server (whether <b>Use Linked Analyst</b> is selected or not).</p>
                                                            </blockquote>
                                                        </div>
                                                    </div>
                                                    <div class="MCDropDown MCDropDown_Closed dropDown">
<span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage" aria-expanded="false"><img class="MCDropDown_Image_Icon" src="/storage/app/media/Help/images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open">Case 4: The email address is defined for an existing person who is flagged as both an Analyst and a User.</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <blockquote>
                                                                <p>If an email is sent from an address which corresponds to an existing person record in the <span class="GeneralVariablesDatabaseName">ASM database</span> and this person is flagged as both an Analyst and a User, the call is logged with the person specified in the User field. The logging analyst is set as follows:</p>
                                                                <p>If the <b>Use Linked Analyst</b> option is not selected for the incoming email account, the logging analyst is set to the analyst specified in the <b>Default Logging Analyst</b> field for the incoming email server.</p>
                                                                <p>If the <b>Use Linked Analyst</b> option is selected for the incoming email account, the logging analyst is set to the person who sent the email. </p>
                                                            </blockquote>
                                                        </div>
                                                    </div>
                                                    <p>The next available number is assigned to that call and the body of the email is automatically entered as the description. The other fields are left blank, with the exception of the User field, which is filled in depending on who logged the call (see above). If there are any attachments to the email, they are added as objects attached to the call.</p>
                                                    <p>The call will use the call template specified for the mail server that picked up the incoming email. The call template will determine the call properties such as the partition, call screen set, IPK status and stream, assigned analyst and group, and so on.</p>
                                                    <p class="note">Any objects attached to an incoming email will use the Unspecified security profile when added as an object on the logged call. The history entry that is recorded about attaching this object will also use the Unspecified security profile.</p>
                                                    <h2>Updating a Call</h2>
                                                    <p>To update an existing call by email, send an email to a <span class="GeneralVariablesCoreName">ASM Core</span> incoming email account with one of the .</p>
                                                    <p>The body of the incoming email is added to the history of the specified call. </p>
                                                    <p>If the incoming email is a reply to an outgoing email from the system, and <a href="%7B%7B%20'help-admin-system-messaging#Truncate'%7CstaticPage%20%7D%7D#Truncate"><b>Truncate Incoming Emails</b></a> is selected in System Administration, only the reply portion of the email is added to the history of the call.</p>
                                                    <p>If there are any attachments to the email, they are attached to the call as objects and can be accessed from the Object Explorer option on the Call Details window. Finally, a note icon is added to the specified call in the Calls Outstanding window to indicate to the handling analyst that the call has been updated. </p>
                                                    <p>When <span class="GeneralVariablesCoreName">ASM Core</span> has updated the call, a return email message is sent with the subject “Call &lt;Call Number&gt; has been updated”, where &lt;Call Number&gt; is the reference number of the call, if auto-reply has been enabled for that incoming email server in <a href="../admin%20system/email%20settings.htm">Email Settings</a>.</p>
                                                    <p>If the incoming email matches a recognized subject heading for updating a call, but the call is closed:</p>
                                                    <blockquote>
                                                        <p>If <b>Update Closed Calls</b> is selected on the incoming email server, the call remains closed but a note is added to the call with the details of the email. The sender of the email also receives the following message: “Call No xyz has been updated by <span class="GeneralVariablesCoreName">ASM Core</span>.”</p>
                                                        <p>If <b>Update Closed Calls</b> is not selected, the call remains closed and the following message is sent back to the sender of the email: “Call No xyz is already closed and has not been updated.”</p>
                                                    </blockquote>
                                                    <p>If <span class="GeneralVariablesCoreName">ASM Core</span> receives an incoming email with a subject heading used to update a call, but it does not recognize the call number specified in the subject line, it logs a new call if the incoming email account has the <b>Log New Call on Invalid Number</b> option. However, if <b>Log New Call on Invalid Number</b> is not selected, <span class="GeneralVariablesCoreName">ASM Core</span> ignores the email and the person who sent the incoming email is not notified. </p>
                                                    <p>If <span class="GeneralVariablesCoreName">ASM Core</span> receives an incoming email with a subject heading used to update a call, but it does not recognize the sender's email address, it ignores the email. However, if the <b>Update Calls Anonymously</b> option is selected for the incoming email account, the call is updated.</p>
                                                    <p class="note">To have email notifications sent to the assigned analyst or group when a call is updated by incoming email, ensure that the <b>Email at Update via Email In</b> option is selected under IPK Management on the <a href="../admin%20system/messaging.htm">Messaging</a> administration window.</p>
                                                    <h2>Viewing a Call Summary</h2>
                                                    <p>A support analyst can check a summary of their calls by sending an email to a <span class="GeneralVariablesCoreName">ASM Core</span> incoming email account with the following subject:</p>
                                                    <p class="codefont">[MyCalls] </p>
                                                    <h2>Closing a Call</h2>
                                                    <p class="prereq">If the <b>Close Calls Anonymously</b> option is not selected in the incoming email account, a call cannot be closed by an email sent from an unrecognized address (that is, an email address that does not correspond to a <span class="GeneralVariablesCoreName">ASM Core</span> analyst or User). <br>If the sender is flagged as a User only, the call will only be closed if the same User is specified in the User field of the call. If the sender is a <span class="GeneralVariablesCoreName">ASM Core</span> analyst, the call will be closed if they own the call or have <b>Take Over</b> rights as part of their <a href="../admin%20security%20roles/ipk%20management%20security%20roles%20-%20options%20tab.htm">IPK Management</a> security role. Otherwise, a return email with the following message will be sent: “Reason: Insufficient Permission”.</p>
                                                    <p>To close a call through email, send an email to a <span class="GeneralVariablesCoreName">ASM Core</span> incoming email account with the subject: <code>[CLOSE#xyz]</code> , where <b>xyz</b> represents the call number of the call you want to close. </p>
                                                    <p>The square brackets are required and It must be a valid open call number.</p>
                                                    <p>The call you specified will be closed and a return email will be sent to you to confirm the closure.</p>
                                                    <h2>Reopening a Closed Call</h2>
                                                    <p>If you send an email with the call number in the subject line, in a <a href="recognized%20incoming%20subject%20lines.htm">recognized format</a>, the specified call is closed, and the <b>Reopen Closed Calls</b> option is selected on the incoming email server, this will reopen the call in <span class="GeneralVariablesCoreName">ASM Core</span> and add the details of the email as a note to the call. The analyst or group assigned to the call depends on the setting chosen in the <a href="%7B%7B%20'help-admin-system-email-settings#Configur2'%7CstaticPage%20%7D%7D#Configur2">Email Settings</a>.</p>
                                                    <p>To approve an Approval Task through an email, send an email to a <span class="GeneralVariablesCoreName">ASM Core</span> incoming email account with the following subject:</p>
                                                    <p class="codefont">[APPROVE#xyz] </p>
                                                    <p class="note">xyz represents the number of the Approval Task you want to approve.  The square brackets are required. For example: : <span style="font-family: 'Courier New'; font-size: 11pt;">[APPROVE#5837]</span></p>
                                                    <p>This includes standard Approval Tasks as well as User Approval Tasks.</p>
                                                    <p>If a task has been successfully approved through incoming email, a return email with the subject “Task &lt;Task Number&gt; has been successfully approved” is sent (where &lt;Task Number&gt; is the reference number of the Approval Task). The workflow in that request will then proceed as designed based on the approval or rejection of the approval task.</p>
                                                    <p class="note">If the email address is not recognized, the Approval Task is not approved and a return email is sent, stating that the sender has not been identified.</p>
                                                    <h2>Rejecting an Approval Task</h2>
                                                    <p>To reject an Approval Task through an email, send an email to a <span class="GeneralVariablesCoreName">ASM Core</span> incoming email account with the following subject:</p>
                                                    <p class="codefont">[REJECT#xyz] </p>
                                                    <p class="note">xyz represents the number of the Approval Task you want to reject. The square brackets are required. For example:  <span style="font-family: 'Courier New'; font-size: 11pt;">[REJECT#5837]</span></p>
                                                    <p>This includes standard Approval Tasks as well as User Approval Tasks.</p>
                                                    <p>If an Approval task has been successfully rejected through incoming email, a return email with the subject “Task &lt;Approval Task Number&gt; has been successfully rejected” is sent.</p>
                                                    <p>To update an existing task by email, send an email with one of the <a href="recognized%20incoming%20subject%20lines.htm">recognized subject lines</a>. </p>
                                                    <p>The body of the incoming email is added to the history of the specified task or approval. If the incoming email is a reply to an outgoing email from the system, and <a href="%7B%7B%20'help-admin-system-messaging#Truncate'%7CstaticPage%20%7D%7D#Truncate"><b>Truncate Incoming Emails</b></a> is selected in System Administration, only the reply portion of the email is added to the history of the task or approval.</p>
                                                    <p>If there are any attachments to the email, they are attached to the task or approval as objects and can be accessed from the Object Explorer option on the Task or Approval Details window. Finally, a note icon is added to the specified task or approval in the Tasks Outstanding window to indicate to the handling analyst that the task has been updated. </p>
                                                    <p>When <span class="GeneralVariablesCoreName">ASM Core</span> has updated the task or approval, a return email message is sent with the subject “Task/Approval &lt;Task/Approval Number&gt; has been updated”, where &lt;Task/Approval Number&gt; is the reference number of the task or approval.</p>
                                                    <h2>Updating a Request</h2>
                                                    <p>A request can be updated by incoming email. To update an existing request by email, send an email with one of the <a href="recognized%20incoming%20subject%20lines.htm">recognized subject lines</a></p>
                                                    <p>The body of the incoming email is added to the history of the specified request. If the incoming email is a reply to an outgoing email from the system, and <a href="%7B%7B%20'help-admin-system-messaging#Truncate'%7CstaticPage%20%7D%7D#Truncate"><b>Truncate Incoming Emails</b></a> is selected in System Administration, only the reply portion of the email is added to the history of the request.</p>
                                                    <p>If there are any attachments to the email, they are attached to the request as objects and can be accessed from the Object Explorer option on the Request Details window. Finally, a note icon is added to the specified request in the Requests Outstanding window to indicate to the handling analyst that the request has been updated. </p>
                                                    <p>When <span class="GeneralVariablesCoreName">ASM Core</span> has updated the request, a return email message is sent with the subject “Request &lt;Request Number&gt; has been updated”, where &lt;Request Number&gt; is the reference number of the request.</p>
                                                    <p>If  receives an incoming email with a subject heading used to update a request, but it does not recognize the request number specified in the subject line, it will log a new call (see <a href="#_Ref174874857" class="ParaTextOnly MCXref xref xrefParaTextOnly">Using Incoming Email</a>). </p>
                                                    <h2>Viewing a Request Summary</h2>
                                                    <p>A support analyst can check a summary of their requests by sending an email to a <span class="GeneralVariablesCoreName">ASM Core</span> incoming email account with the following subject:</p>
                                                    <p class="codefont">[MyRequests] </p>
                                                    <p>A return email is sent to that support analyst with a summary of all the requests they are working on, have forwarded, or have been forwarded.</p>
                                                    <h2>Viewing a Task and Approval Summary</h2>
                                                    <p>A support analyst can check a summary of their tasks and approvals by sending an email to a <span class="GeneralVariablesCoreName">ASM Core</span> incoming email account with the following subject:</p>
                                                    <p class="codefont">[MyTasks] </p>
                                                    <p class="codefont">[MyApprovals]</p>
                                                    <p>A return email is sent to that support analyst with a summary of all the tasks and approvals they are working on, have forwarded, or have been forwarded.</p>
                                                